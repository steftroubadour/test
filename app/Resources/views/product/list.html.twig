{# app/Resources/views/Main/index.html.twig #}

{% extends "main/base.html.twig" %}

{% block content %}

    <h1 class="h3 text-center">Nos magnifiques icônes</h1>

{% if products|length > 0 %}
<div class="row">
    <div class="col-md-8 mx-auto">
        <div class="row">
            <div class="col-12">
                {% for product in products %}
                <a href="{{ path('product_view', {'id': product.id}) }}" class="w-100 list btn btn-default border rounded bg-light text-dark" role="button">
                    <div class="row">
                        <div class="col-4">
                            <img class="pic" src="{{ asset(product.image.url) }}" alt="{{ product.image.alt }}"/>
                        </div>
                        <div class="col-8 text-center">
                            <h4 class="my-3">{{ product.title }}</h4>
                        </div>
                    </div>
                </a>
                {% endfor %}
                <ul class="pagination mt-4">
                    {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
                    {% for p in range(1, nbPages) %}
                        <li{% if p == page %} class="page-item active"{% else %} class="page-item"{% endif %}>
                            <a class="page-link" href="{{ path('main_home', {'page': p}) }}">{{ p }}</a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% else %}
    <h2>Aucun produit</h2>
{% endif %}

{% endblock content %}